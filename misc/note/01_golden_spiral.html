<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é»„é‡‘èºæ—‹ãƒ»ãƒ•ã‚£ãƒ­ã‚¿ã‚¯ã‚·ã‚¹ - ã²ã¾ã‚ã‚Šã®ç¨®ã®ãƒ‘ã‚¿ãƒ¼ãƒ³</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Hiragino Sans', 'Meiryo', sans-serif;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .description {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .controls {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .control-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        input[type="range"] {
            width: 100%;
        }
        .value-display {
            display: inline-block;
            margin-left: 10px;
            color: #007bff;
            font-weight: bold;
        }
        #canvas-container {
            text-align: center;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ» é»„é‡‘èºæ—‹ãƒ»ãƒ•ã‚£ãƒ­ã‚¿ã‚¯ã‚·ã‚¹</h1>
        
        <div class="description">
            <h2>è‡ªç„¶ç•Œã®æ•°å­¦çš„ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
            <p>
                ã²ã¾ã‚ã‚Šã®ç¨®ã€æ¾ã¼ã£ãã‚Šã®é±—ç‰‡ã€ãƒ‘ã‚¤ãƒŠãƒƒãƒ—ãƒ«ã®è¡¨é¢ãªã©ã€å¤šãã®æ¤ç‰©ã¯<strong>é»„é‡‘è§’ï¼ˆç´„137.5åº¦ï¼‰</strong>ã‚’ä½¿ã£ã¦
                ç¨®ã‚„è‘‰ã‚’é…ç½®ã—ã¦ã„ã¾ã™ã€‚ã“ã®è§’åº¦ã‚’ä½¿ã†ã¨ã€æœ€ã‚‚åŠ¹ç‡çš„ã«ç©ºé–“ã‚’åŸ‹ã‚ã‚‹ã“ã¨ãŒã§ãã€ã™ã¹ã¦ã®ç¨®ãŒå‡ç­‰ã«
                å…‰ã‚„æ „é¤Šã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
            </p>
            <p>
                é»„é‡‘è§’ã¯<strong>é»„é‡‘æ¯”Ï†ï¼ˆãƒ•ã‚¡ã‚¤ï¼‰</strong>ã¨é–¢ä¿‚ãŒã‚ã‚Šã€Ï† = (1 + âˆš5) / 2 â‰ˆ 1.618... ã¨ã„ã†ç‰¹åˆ¥ãªæ•°ã§ã™ã€‚
                é»„é‡‘è§’ = 360Â° Ã— (1 - 1/Ï†) â‰ˆ 137.507...Â° ã¨ãªã‚Šã¾ã™ã€‚
            </p>
        </div>

        <div class="controls">
            <h3>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å¤‰ãˆã¦è¦³å¯Ÿã—ã‚ˆã†</h3>
            
            <div class="control-group">
                <label>
                    è§’åº¦: <span class="value-display" id="angle-value">137.5</span>Â°
                </label>
                <input type="range" id="angle-slider" min="0" max="360" value="137.5" step="0.1">
                <small>é»„é‡‘è§’ã‹ã‚‰é›¢ã‚Œã‚‹ã¨ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã©ã†å¤‰ã‚ã‚‹ã‹è¦³å¯Ÿã—ã¦ã¿ã¾ã—ã‚‡ã†</small>
            </div>

            <div class="control-group">
                <label>
                    ç¨®ã®æ•°: <span class="value-display" id="count-value">500</span>
                </label>
                <input type="range" id="count-slider" min="50" max="1000" value="500" step="10">
            </div>

            <div class="control-group">
                <label>
                    ç¨®ã®ã‚µã‚¤ã‚º: <span class="value-display" id="size-value">4</span>
                </label>
                <input type="range" id="size-slider" min="1" max="10" value="4" step="0.5">
            </div>

            <div class="control-group">
                <label>
                    è‰²ã®ãƒ¢ãƒ¼ãƒ‰:
                    <select id="color-mode">
                        <option value="gradient">ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³</option>
                        <option value="rainbow">è™¹è‰²</option>
                        <option value="natural">è‡ªç„¶è‰²</option>
                        <option value="monochrome">ãƒ¢ãƒã‚¯ãƒ­ãƒ¼ãƒ </option>
                    </select>
                </label>
            </div>
        </div>

        <div id="canvas-container"></div>
    </div>

    <script>
        let angle = 137.5;
        let seedCount = 500;
        let seedSize = 4;
        let colorMode = 'gradient';
        
        function setup() {
            let canvas = createCanvas(800, 800);
            canvas.parent('canvas-container');
            
            // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            document.getElementById('angle-slider').addEventListener('input', (e) => {
                angle = parseFloat(e.target.value);
                document.getElementById('angle-value').textContent = angle.toFixed(1);
                redraw();
            });
            
            document.getElementById('count-slider').addEventListener('input', (e) => {
                seedCount = parseInt(e.target.value);
                document.getElementById('count-value').textContent = seedCount;
                redraw();
            });
            
            document.getElementById('size-slider').addEventListener('input', (e) => {
                seedSize = parseFloat(e.target.value);
                document.getElementById('size-value').textContent = seedSize;
                redraw();
            });
            
            document.getElementById('color-mode').addEventListener('change', (e) => {
                colorMode = e.target.value;
                redraw();
            });
            
            noLoop();
        }
        
        function draw() {
            background(250, 248, 245);
            
            translate(width / 2, height / 2);
            
            const goldenAngle = angle;
            const c = 5; // ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å®šæ•°
            
            for (let i = 0; i < seedCount; i++) {
                const a = i * goldenAngle;
                const r = c * sqrt(i);
                
                const x = r * cos(radians(a));
                const y = r * sin(radians(a));
                
                // è‰²ã®è¨­å®š
                let fillColor;
                switch(colorMode) {
                    case 'gradient':
                        const hue = map(i, 0, seedCount, 30, 60);
                        fillColor = color(hue, 80, 70);
                        break;
                    case 'rainbow':
                        const rainbowHue = map(i, 0, seedCount, 0, 360);
                        fillColor = color(rainbowHue, 80, 80);
                        break;
                    case 'natural':
                        const brown = map(i, 0, seedCount, 20, 40);
                        fillColor = color(brown, 60, 40);
                        break;
                    case 'monochrome':
                        const gray = map(i, 0, seedCount, 20, 80);
                        fillColor = color(0, 0, gray);
                        break;
                }
                
                colorMode(HSB, 360, 100, 100);
                fill(fillColor);
                noStroke();
                
                circle(x, y, seedSize);
            }
            
            colorMode(RGB, 255);
        }
    </script>
</body>
</html>

